{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/aabhas_kavita_wedding_gallery_backend/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n\nexport function middleware(request: NextRequest) {\n  // Allow public access to login page and API routes\n  if (\n    request.nextUrl.pathname === '/login' ||\n    request.nextUrl.pathname.startsWith('/api/')\n  ) {\n    return NextResponse.next()\n  }\n\n  // Check for session cookie\n  const session = request.cookies.get('session')\n  \n  if (!session && request.nextUrl.pathname !== '/login') {\n    return NextResponse.redirect(new URL('/login', request.url))\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\n    /*\n     * Match all request paths except for the ones starting with:\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */\n    '/((?!_next/static|_next/image|favicon.ico).*)',\n  ],\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,mDAAmD;IACnD,IACE,QAAQ,OAAO,CAAC,QAAQ,KAAK,YAC7B,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,UACpC;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,2BAA2B;IAC3B,MAAM,UAAU,QAAQ,OAAO,CAAC,GAAG,CAAC;IAEpC,IAAI,CAAC,WAAW,QAAQ,OAAO,CAAC,QAAQ,KAAK,UAAU;QACrD,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;KAKC,GACD;KACD;AACH"}}]
}